{% extends "base.html" %} {% block content %}

<h2>Search Games:</h2>
<form>
  <div class="d-flex p-2 border justify-content-end align-items-center">
  
    {{ form.search }}
    <button type="submit" class="btn btn-primary mx-1">Search</button>
  </div>
</form>

<table
  class="table table-hover table-primary table-striped table-bordered mb-0"
>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Thumbnail</th>
      <th scope="col">Name</th>
      <th scope="col">Complexity</th>
      <th scope="col">Players</th>
      <th scope="col">Length</th>
      <th scope="col">Link</th>
    </tr>
  </thead>
  <tbody>
    {% for game in games%}
    <tr>
      <td>
        <img
          src="{{game.thumbnail_url}}"
          style="max-width: 100px"
          alt="Cover art for {{game.name}}"
        />
      </td>
      <th scope="row">{{game.name}}</th>
      <td>{{game.complexity}}</td>
      <td>{{game.min_players}}-{{game.max_players}}</td>
      <td>{{game.length}} minutes</td>
      <td>
        <a
          href="{{ url_for('game.game', gid=game.gid) }}"
          class="badge bg-primary text-light"
          role="button"
          >GO</a
        >
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<div class="d-flex mb-5 p-2 border justify-content-center align-items-center">
  <form method="GET" action="/games/">
    <div class="btn-group mx-auto" role="group" aria-label="Basic example">
      <!-- could automate this with list of tuples -->
      <input type="hidden" name="per_page" value="{{per_page}}">
      <input type="hidden" name="mechanic" value="{{mechanic}}"> 
      <button class="btn btn-primary {{'disabled' if current_page <= 0 else ''}}" type="submit" name="page" value="{{current_page - 1}}"><</button>
      <button class="btn btn-primary" type="submit" name="page" value="{{current_page + 1}}">></button>
    </div>
  </form>
</div>


{% endblock %}
